var app=angular.module("MarkAndJulia",[]);app.config(["$routeProvider","$locationProvider",function(n,t){"use strict";n.when("/",{templateUrl:"/partials/home.html",controller:"home"}).when("/wedding",{templateUrl:"/partials/wedding.html",controller:"wedding"}).when("/wedding/date",{templateUrl:"/partials/date.html",controller:"date"}).when("/wedding/venue",{templateUrl:"/partials/venue.html",controller:"venue"}).when("/wedding/order-of-the-day",{templateUrl:"/partials/orderofday.html",controller:"order-of-the-day",resolve:{events:function(n,t){var i=n.defer();return t.getEvents().then(function(n){i.resolve(n)}),i.promise}}}).when("/wedding/accommodation",{templateUrl:"/partials/accommodation.html",controller:"accommodation"}).when("/wedding/directions",{templateUrl:"/partials/directions.html",controller:"directions"}).when("/wedding/gift-list",{templateUrl:"/partials/giftlist.html",controller:"gift-list"}).when("/wedding/rsvp",{templateUrl:"/partials/rsvp.html",controller:"rsvp"}).when("/photo-gallery",{templateUrl:"/partials/photo.html",controller:"photo"}).when("/contact-us",{templateUrl:"/partials/contact-us.html",controller:"contact-us"}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}]),app.controller("accommodation",function(){"use strict"}),app.controller("date",function(){"use strict"}),app.controller("directions",function(){"use strict"}),app.controller("gift-list",function(){"use strict"}),app.controller("order-of-the-day",function(n,t){"use strict";n.currentEvent=null,n.listOfEvents=t.current.locals.events,n.showHint=function(){n.currentEvent=this.event},n.hideHint=function(){n.currentEvent=null}}),app.controller("rsvp",function(n,t,i){"use strict";n.attendance=[{value:!0,label:"Yes, I/We are able to attend"},{value:!1,label:"No, I/We are not able to attend"}],n.rooms=[{value:1,label:"Single (£89)"},{value:2,label:"Double (£89)"},{value:3,label:"Twin (£89)"},{value:4,label:"Junior Suite (£185)"},{value:0,label:"Room not required"}],n.submit=function(){i.submit({canAttend:n.canAttend.value,guestnames:n.guestnames,telephone:n.telephone,email:n.email,dietaryRequirements:n.dietaryRequirements,roomRequired:n.roomRequired.value,cotRequired:n.cotRequired}).then(function(){$(t).find("#rsvpContent").fadeOut(function(){n.canAttend.value?$(t).find("#thanks").fadeIn():$(t).find("#sorry").fadeIn()})})}}),app.controller("venue",function(){"use strict"}),app.controller("contact-us",function(n,t,i){"use strict";n.submit=function(){i.submit({name:n.name,telephone:n.telephone,email:n.email,question:n.question}).then(function(){$(t).find("#formContent").fadeOut(function(){$(t).find("#thanks").fadeIn()})})}}),app.controller("home",function(){"use strict"}),app.controller("login",function(n,t){"use strict";n.errors=[],n.login=function(){n.errors.length=0,t.processLogin(n.email,n.password,n.rememberMe).then(function(n){localStorage.setItem("User",JSON.stringify(n)),$("#Login").modal("hide")},function(t){n.errors.push(t)})}}),app.controller("photo",function(){"use strict"}),app.factory("loginService",function(n,t){"use strict";return{processLogin:function(i,r,u){var f=t.defer();return i||f.reject("Please enter your email address."),r||f.reject("Please enter your password."),i&&r?n({url:"/api/user",method:"POST",data:{email:i,password:r,rememberMe:u}}).success(function(n){n!==null?f.resolve(n):f.reject("There was an error with your E-Mail/Password combination. Please try again.")}).error(function(){f.reject("There was an error contacting the server.")}):void 0}}}),app.factory("contactUsService",function(n,t,i){"use strict";return{submit:function(r){var u=t.defer();return n.post("api/contact",r).success(function(n){u.resolve(n)}).error(function(n,t){i.error(t),u.reject(t)}),u.promise}}}),app.factory("orderOfTheDayService",function(n,t,i){"use strict";return{getEvents:function(){var r=t.defer();return n.get("/api/orderoftheday").success(function(n){var t={};t.saturday=_.filter(n,function(n){return n.Day===20}),t.sunday=_.filter(n,function(n){return n.Day===21}),r.resolve(t)}).error(function(n,t){i.error(t),r.reject(t)}),r.promise}}}),app.factory("rsvpService",function(n,t,i){"use strict";return{submit:function(r){var u=t.defer();return n.post("/api/rsvp",r).success(function(n){u.resolve(n)}).error(function(n,t){i.error(t),u.reject(t)}),u.promise}}}),app.directive("carousel",function(){"use strict";return{restrict:"C",link:function(n,t){t.carousel()}}});
//@ sourceMappingURL=app.min.js.map